# 财务管理系统模块 - 业务概述

> **返回**: [文档首页](../../README.md)  
> **前端文档**: [财务管理系统模块 - 前端文档](../frontend/financial.md)  
> **后端文档**: [财务管理系统模块 - 后端文档](../backend/financial.md)

## 目录

- [1. 模块概述](#1-模块概述)
- [2. 核心业务概念](#2-核心业务概念)
- [3. 业务流程](#3-业务流程)
- [4. 业务规则](#4-业务规则)
- [5. 模块关联](#5-模块关联)
- [6. 详细文档链接](#6-详细文档链接)

---

## 1. 模块概述

### 1.1 模块定位

财务管理系统模块是GWEN系统的财务管理模块，支持会计科目管理、项目合同管理、收入支出记录和统计，用于追踪和管理项目的财务状况。

### 1.2 核心业务功能

- **会计科目管理**: 管理会计科目树结构，分类记录收支
- **项目合同管理**: 管理项目合同，跟踪合同状态
- **收入支出记录**: 记录项目的收入和支出明细
- **项目收支统计**: 统计项目的收支情况和利润

### 1.3 业务价值

- **财务透明**: 通过详细的收支记录实现财务透明
- **成本控制**: 通过收支统计控制项目成本
- **合同管理**: 通过合同管理跟踪项目收入
- **财务分析**: 通过统计功能分析项目财务状况

---

## 2. 核心业务概念

### 2.1 会计科目

会计科目用于分类记录收支：

- **科目代码**: 科目的唯一标识
- **科目名称**: 科目的名称
- **科目类型**: 收入或支出
- **层级结构**: 科目支持树形层级结构

### 2.2 合同状态

| 状态 | 状态值 | 说明 |
|------|--------|------|
| 进行中 | 0 | 合同正在执行 |
| 已完成 | 1 | 合同已完成 |
| 已终止 | 2 | 合同已终止 |

### 2.3 收支类型

- **收入** (0): 项目收入记录
- **支出** (1): 项目支出记录

### 2.4 财务统计

- **总收入**: 项目所有收入的总和
- **总支出**: 项目所有支出的总和
- **利润**: 总收入减去总支出
- **按科目统计**: 按会计科目分类统计收支

---

## 3. 业务流程

### 3.1 会计科目管理流程

```
1. 管理员创建会计科目
   ↓
2. 设置科目信息
   - 科目代码
   - 科目名称
   - 科目类型（收入/支出）
   - 父科目（可选）
   ↓
3. 保存科目
   ↓
4. 科目出现在科目树中
```

### 3.2 合同管理流程

```
1. 创建项目合同
   ↓
2. 填写合同信息
   - 合同名称
   - 合同金额
   - 签约日期
   ↓
3. 合同状态为"进行中"
   ↓
4. 合同执行过程中
   ↓
5. 合同完成或终止
   ↓
6. 合同状态更新
```

### 3.3 收支记录流程

```
1. 记录收入/支出
   ↓
2. 选择会计科目
   ↓
3. 填写金额和描述
   ↓
4. 选择记账日期
   ↓
5. 保存记录
   ↓
6. 更新项目收支统计
```

### 3.4 项目收支统计流程

```
1. 选择项目
   ↓
2. 选择时间范围（可选）
   ↓
3. 计算统计信息
   - 总收入
   - 总支出
   - 利润
   - 按科目分类统计
   ↓
4. 显示统计结果
```

---

## 4. 业务规则

### 4.1 会计科目规则

1. **科目代码唯一**: 科目代码必须唯一
2. **层级限制**: 科目支持多级层级结构
3. **类型分类**: 科目必须属于收入或支出类型
4. **使用限制**: 已使用的科目不能删除

### 4.2 合同管理规则

1. **项目关联**: 合同必须关联到项目
2. **金额验证**: 合同金额必须大于0
3. **状态流转**: 合同状态必须按照预定义流程流转
4. **完成条件**: 合同完成需要满足特定条件

### 4.3 收支记录规则

1. **项目关联**: 收支记录必须关联到项目
2. **科目关联**: 收支记录必须关联到会计科目
3. **金额验证**: 金额必须大于0
4. **类型匹配**: 记录类型必须与科目类型匹配

### 4.4 财务统计规则

1. **统计范围**: 统计范围包括项目所有收支记录
2. **时间筛选**: 支持按时间范围筛选统计
3. **科目分类**: 支持按会计科目分类统计
4. **计算准确性**: 统计结果必须准确无误

---

## 5. 模块关联

### 5.1 与项目系统关联

- 合同和收支记录都关联到项目
- 项目收支统计基于项目相关记录

### 5.2 与任务系统关联

- 任务金币分配和结算涉及财务账户
- 任务奖励通过财务系统记录

### 5.3 与用户系统关联

- 用户对账明细来自财务交易记录
- 财务操作涉及用户权限

---

## 6. 详细文档链接

### 6.1 前端文档

详细的前端实现文档请参考：[财务管理系统模块 - 前端文档](../frontend/financial.md)

包含内容：
- 页面结构和路由
- 组件结构和说明
- Store 状态管理
- API 调用规范
- 交互流程
- UI 规范
- 权限控制

### 6.2 后端文档

详细的后端实现文档请参考：[财务管理系统模块 - 后端文档](../backend/financial.md)

包含内容：
- 数据模型（Model/Schema）
- API 规范（Controller/Route）
- 业务逻辑流程（Service/UseCase）
- 权限与鉴权规则
- 错误码和响应规范
- 定时任务/队列处理/事件

---

**文档版本**: v1.0  
**最后更新**: 2025-11-19  
**维护者**: GWEN开发团队
